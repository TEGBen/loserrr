<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Escape Lotto â€” Result</title>
  <meta name="description" content="Result page for Escape Lotto ticket." />
  <style>
    :root{
      --green: #2F5641;
      --gold: #D9A441;
      --orange: #B55330;
      --cream: #F5F0E6;
    }
    html, body {height: 100%;}
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", sans-serif;
      background: var(--cream);
      color: var(--green);
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100dvh;
      padding: calc(env(safe-area-inset-top) + 8px) calc(env(safe-area-inset-right) + 8px) calc(env(safe-area-inset-bottom) + 8px) calc(env(safe-area-inset-left) + 8px);
    }
    .card {
      width: min(92vw, 460px);
      background: var(--cream);
      padding: clamp(16px, 4vw, 28px);
      border-radius: 20px;
      text-align: center;
      box-shadow: 0 10px 30px rgba(0,0,0,0.25);
      border: 4px solid var(--green);
      position: relative;
      overflow: hidden;
    }
    .logo {max-width: 200px; margin: 0 auto 12px; display: block;}
    .badge {background: var(--orange); padding: 10px 14px; border-radius: 999px; font-weight: 800; text-transform: uppercase; font-size: .85rem; display: inline-block; margin-bottom: 16px; color: var(--cream);}    
    .wintext {font-size: clamp(1.1rem, 4.5vw, 1.6rem); margin: 0; color: var(--green); font-weight: bold;}
    .result-box{display:inline-block; margin:10px auto; padding:10px 16px; border-radius:12px; background: #2f56411a; border:2px dashed #2f56414d; color: var(--green); font-weight:800}
    .sad {display:block; font-size: clamp(2rem, 10vw, 3.2rem); line-height:1; margin: 6px 0 0}

    /* Button (still in theme) */
    #againBtn { width:100%; background: linear-gradient(135deg, var(--gold), var(--orange)); border:0; border-radius:14px; padding:14px 18px; font-size: clamp(1rem, 4.5vw, 1.15rem); font-weight:800; letter-spacing:.2px; color: var(--cream); cursor:pointer; box-shadow: 0 6px 18px rgba(0,0,0,.3); transition: transform .1s ease, box-shadow .2s ease, filter .2s ease; margin-top:10px; }
    #againBtn:hover{ transform: translateY(-1px); box-shadow:0 8px 24px rgba(0,0,0,.4)}
    #againBtn:active{ transform: translateY(1px) scale(.98); filter:brightness(.98)}

    /* Canvas on top for the sad animation */
    canvas#rain { position: fixed; inset:0; pointer-events:none; }

    @media (prefers-reduced-motion: reduce){ canvas#rain{display:none;} }
  </style>
</head>
<body>
  <canvas id="rain" aria-hidden="true"></canvas>
  <div class="card" role="main" aria-labelledby="headline">
    <img src="logo.png" alt="Escape Lotto logo" class="logo" />
    <div class="badge" aria-hidden="true">Not a Winner</div>
    <p id="headline" class="wintext">Unfortunately, you did not crack the code.</p>
    <div class="result-box">Better luck next time <span class="sad" aria-hidden="true">ðŸ˜”</span></div>
    <button id="againBtn" aria-label="Try again">Try again</button>
  </div>

  <script>
    // Simple "sad rain" animation in theme colors
    (function rain(){
      const c = document.getElementById('rain');
      const ctx = c.getContext('2d');
      let W, H, drops=[]; let running=false, raf;
      function resize(){ W = c.width = innerWidth; H = c.height = innerHeight; }
      addEventListener('resize', resize, {passive:true}); resize();

      function spawn(n=160){
        drops = Array.from({length:n}, () => ({
          x: Math.random()*W,
          y: Math.random()*-H,
          l: 8 + Math.random()*18, // length
          s: 2 + Math.random()*3,  // speed
          w: 1 + Math.random()*1.5,// width
          a: 0.15 + Math.random()*0.15 // alpha
        }));
      }

      function draw(){
        ctx.clearRect(0,0,W,H);
        ctx.strokeStyle = 'rgba(47,86,65,0.35)'; // green-ish drizzle
        ctx.lineCap = 'round';
        for(const d of drops){
          ctx.lineWidth = d.w;
          ctx.globalAlpha = d.a;
          ctx.beginPath();
          ctx.moveTo(d.x, d.y);
          ctx.lineTo(d.x, d.y + d.l);
          ctx.stroke();
          d.y += d.s*3;
          if(d.y > H + 20){ d.y = -20; d.x = Math.random()*W; }
        }
        ctx.globalAlpha = 1;
        if (running) raf = requestAnimationFrame(draw);
      }

      function start(durationMs=4000){ running = true; spawn(); draw(); setTimeout(()=>{ running=false; cancelAnimationFrame(raf); ctx.clearRect(0,0,W,H); }, durationMs); }

      // auto start once
      start(4500);

      // button retriggers rain + light haptic
      const btn = document.getElementById('againBtn');
      btn.addEventListener('click', ()=>{ if(navigator.vibrate){ try{ navigator.vibrate([10, 30]); }catch{} } start(3000); });
    })();
  </script>
</body>
</html>
